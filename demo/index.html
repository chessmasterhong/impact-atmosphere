<!DOCTYPE html>
<html>
    <head>
        <title>Impact Atmospheric System Plugin Demo</title>

        <style type="text/css">
            #container {
                padding-top: 10px;
            }

            #canvas {
                float: left;
                margin-right: 10px;
            }

            input {
                margin-left: 10px;
            }

            @media print, screen and (max-width: 1200px) {
                #canvas {
                    float: none;
                    margin: 0;
                }
            }
        </style>

        <script src="lib/impact/impact.js"></script>
        <script src="lib/game/main.js"></script>
    </head>
    <body onload="reset()">
        <h1>Impact Atmospheric System Plugin Demo</h1>
        <p>A plugin for the <a href="http://impactjs.com">Impact game engine</a> that simulates an atmospheric weather system, day/night cycles and seasonal cycles based on configurable date, time, and geographical coordinates.</p>
        <p><strong>Source code: <a href="https://github.com/chessmasterhong/impact-atmosphere">https://github.com/chessmasterhong/impact-atmosphere</a></strong></p>

        <div id="container">
            <canvas id="canvas"></canvas>

            <p>Instructions: Select a radio option below to see the respective changes in the canvas.</p>

            <form id="config">
                <p>Timescale:
                    <input type="radio" name="ts" onClick="updateTimescale(this.value)" value="0.1">0.1x</input>
                    <input type="radio" name="ts" onClick="updateTimescale(this.value)" value="0.5">0.5x</input>
                    <input type="radio" name="ts" onClick="updateTimescale(this.value)" value="1">[ 1x ]</input>
                    <input type="radio" name="ts" onClick="updateTimescale(this.value)" value="60">60x</input>
                    <input type="radio" name="ts" onClick="updateTimescale(this.value)" value="1" checked>600x</input>
                    <input type="radio" name="ts" onClick="updateTimescale(this.value)" value="3600">3600x</input>
                    <input type="radio" name="ts" onClick="updateTimescale(this.value)" value="86400">86400x</input>
                    <input type="radio" name="ts" onClick="updateTimescale(this.value)" value="2592000">2592000x</input>
                </p>

                <p>Update Rate:
                    <input type="radio" name="ur" onClick="updateUpdateRate(this.value)" value="0.1">0.1 second</input>
                    <input type="radio" name="ur" onClick="updateUpdateRate(this.value)" value="0.5" checked>0.5 second</input>
                    <input type="radio" name="ur" onClick="updateUpdateRate(this.value)" value="1">1 second</input>
                    <input type="radio" name="ur" onClick="updateUpdateRate(this.value)" value="10">10 seconds</input>
                    <input type="radio" name="ur" onClick="updateUpdateRate(this.value)" value="60">[ 60 seconds ]</input>
                </p>

                <p>Weather Condition:
                    <input type="radio" name="wc" onClick="updateWeather(this.value)" value="0" checked>[ Clear ]</input>
                    <input type="radio" name="wc" onClick="updateWeather(this.value)" value="1">Rain</input>
                    <input type="radio" name="wc" onClick="updateWeather(this.value)" value="2">Snow</input>
                    <input type="radio" name="wc" onClick="updateWeather(this.value)" value="3">Fog (EXPERIMENTAL!!)</input>
                </p>

                <p>Maximum Particle Count:
                    <input type="radio" name="mp" onClick="updateMaxParticles(this.value)" value="1">1</input>
                    <input type="radio" name="mp" onClick="updateMaxParticles(this.value)" value="10">10</input>
                    <input type="radio" name="mp" onClick="updateMaxParticles(this.value)" value="50">50</input>
                    <input type="radio" name="mp" onClick="updateMaxParticles(this.value)" value="100" checked>[ 100 ]</input>
                    <input type="radio" name="mp" onClick="updateMaxParticles(this.value)" value="200">200</input>
                    <input type="radio" name="mp" onClick="updateMaxParticles(this.value)" value="500">500</input>
                </p>
            </form>

            <p>
                Note 1: Bracketed radio labels denotes plugin's default values.<br>
                Note 2: To show/hide debug messages, left click the canvas.<br>
                Note 3: If you <em>really</em> want to try the fog weather condition, I would advise having a beefy machine before doing so.<br>
            </p>
        </div>

        <script>
            function reset() { document.getElementById('config').reset(); };
            function updateTimescale(timescale) { ig.game.atmosphere.timescale = parseFloat(timescale); };
            function updateUpdateRate(update_rate) { ig.game.atmosphere.updateUpdateRate(parseFloat(update_rate)); };
            function updateWeather(weather) { ig.game.weather.condition = parseFloat(weather); };
            function updateMaxParticles(max_particles) { ig.game.weather.particles.max = parseFloat(max_particles); };
        </script>
    </body>
</html>
